!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("backbone-metal-classify"),require("backbone-normalize-hash"),require("backbone.radio"),require("underscore"),require("es6-promise")):"function"==typeof define&&define.amd?define(["backbone-metal-classify","backbone-normalize-hash","backbone.radio","underscore","es6-promise"],n):e.Backbone.Service=n(e.classify,e.normalizeHash,e.Radio,e._,e.PromisePolyfill)}(this,function(e,n,r,t,o){"use strict";function i(e,r,o){var i=n(e,r);return t.each(i,function(n,r){i[r]=function(){for(var n=arguments.length,t=Array(n),i=0;n>i;i++)t[i]=arguments[i];return o().then(function(){return e[r].apply(e,t)})["catch"](function(n){throw e.onError(n),n})}}),i}var a=o.Promise.resolve();r.Channel=e(r.Channel);var s=r.Channel.extend({constructor:function(){var e=this,n=t.once(function(){return a.then(function(){return e.start()})}),r=i(this,"requests",n),o=i(this,"commands",n);this.reply(r),this.comply(o),this._super.apply(this,arguments)},setup:function(){},start:function(){},onError:function(){}});return s});
//# sourceMappingURL=backbone.service.min.js.map